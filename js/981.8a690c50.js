"use strict";(self.webpackChunkblogfront=self.webpackChunkblogfront||[]).push([[981],{3981:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var l=t(3396),n=t(9324),o=(a=t(6265),t.n(a)),s=t(4870),r=t(7178),i=t(6e3);const u={class:"test container"},d=(0,l._)("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500KB. ",-1),c={class:"upload"},p=["src"];var m={__name:"Test",setup(e){const a=(0,s.qj)({type:"markdown"}),t=(0,s.iH)(""),m=(0,s.qj)({token:"demotoken"}),f=async()=>{var e=await n.ZP.$axios({url:"/user/getUserInfByToken",method:"POST",headers:{token:!0}});e=JSON.stringify(e.result.res);localStorage.setItem("userInfo",e)},v=()=>{},w=async(e,a,t)=>{var l=new FormData;l.append("avatar",t),await o()({url:"/file/markdownImages",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:l}).then((e=>{})).catch((e=>{})),(new FormData).append("file",t),a({url:"/2.png",desc:"回显图片名称"})},g=(0,s.qj)({content:"> 你好,这个是测试"}),h=()=>{},k=(0,s.iH)([]),y=(e,a)=>{},_=e=>{},b=(e,a)=>{r.z8.warning(`The limit is 3, you selected ${e.length} files this time, add up to ${e.length+a.length} totally`)},T=(e,a)=>i.T.confirm(`Cancel the transfer of ${e.name} ?`).then((()=>!0),(()=>!1));return(e,n)=>{var o=(0,l.up)("v-md-editor");const s=(0,l.up)("el-button");var r=(0,l.up)("el-upload");const i=(0,l.up)("Plus"),I=(0,l.up)("el-icon");return(0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(o,{"include-level":[3,4,5],onSave:h,modelValue:g.content,"onUpdate:modelValue":n[0]||(n[0]=e=>g.content=e),"disabled-menus":[],onUploadImage:w},null,8,["modelValue"]),(0,l.Wm)(r,{"file-list":k.value,"onUpdate:fileList":n[1]||(n[1]=e=>k.value=e),class:"upload-demo",action:"/file/markdownImages",multiple:"","on-preview":_,"on-remove":y,"before-remove":T,limit:3,data:a,"on-exceed":b},{tip:(0,l.w5)((()=>[d])),default:(0,l.w5)((()=>[(0,l.Wm)(s,{type:"primary"},{default:(0,l.w5)((()=>[(0,l.Uk)("Click to upload")])),_:1})])),_:1},8,["file-list","data"]),(0,l.Uk)(" 头像上传: "),(0,l._)("div",c,[(0,l.Wm)(r,{class:"avatar-uploader",data:{token:m},action:"/file/avatar","show-file-list":!0,"on-success":f,"before-upload":v},{default:(0,l.w5)((()=>[t.value?((0,l.wg)(),(0,l.iD)("img",{key:0,src:t.value,class:"avatar"},null,8,p)):((0,l.wg)(),(0,l.j4)(I,{key:1,class:"avatar-uploader-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(i)])),_:1}))])),_:1},8,["data"])])])}}}}}]);